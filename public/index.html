<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ProjectorRoom - Crear Sala</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ¬ ProjectorRoom</h1>
    <p>Crea tu sala de cine sincronizada</p>
    
    <div class="form-section">
      
      <!-- 1. NOMBRE USUARIO -->
      <div class="form-group">
        <label>ğŸ‘¤ Nombre de Usuario</label>
        <input type="text" id="username" placeholder="Tu nombre" required maxlength="20">
      </div>
      
      <!-- 2. NOMBRE SALA -->
      <div class="form-group">
        <label>ğŸ­ Nombre de la Sala</label>
        <input type="text" id="roomName" placeholder="Nombre de tu ProjectorRoom" required maxlength="30">
      </div>
      
      <!-- 3. TMDB API -->
      <div class="form-group">
        <label>ğŸ”‘ TMDB API Key</label>
        <input type="text" id="tmdbApiKey" placeholder="Ingresa tu API Key de TMDB" required>
        <small><a href="https://www.themoviedb.org/settings/api" target="_blank">Obtener gratis aquÃ­</a></small>
      </div>
      
      <!-- 4. MANIFEST STREMIO -->
      <div class="form-group">
        <label>ğŸ”Œ Stremio Manifest URL</label>
        <input type="url" id="manifestUrl" placeholder="https://torrentio.strem.fun/manifest.json" value="https://torrentio.strem.fun/manifest.json">
        <small>Torrentio â€¢ Debridio â€¢ Juan Carlos</small>
      </div>
      
      <div class="separator"></div>
      
      <!-- 5. BÃšSQUEDA PELÃCULAS -->
      <div class="form-group">
        <label>ğŸ” Buscar PelÃ­cula/Serie</label>
        <div class="search-box">
          <input type="text" id="searchQuery" placeholder="Seven, Breaking Bad, Inception...">
          <button onclick="searchContent()" class="btn-search">Buscar</button>
        </div>
      </div>
      
      <!-- RESULTADOS BÃšSQUEDA -->
      <div id="searchResults"></div>
      
      <!-- 6. PELÃCULA SELECCIONADA -->
      <div id="selectedContent" class="selected-box" style="display:none;">
        <label>âœ… Contenido Seleccionado</label>
        <div id="contentCard"></div>
      </div>
      
      <div class="separator"></div>
      
      <!-- 7. BÃšSQUEDA FUENTES -->
      <div id="sourcesSection" style="display:none;">
        <div class="form-group">
          <label>ğŸ“º Fuentes Disponibles</label>
          <button onclick="fetchSources()" class="btn-sources">ğŸ” Buscar Fuentes con Manifest</button>
        </div>
        
        <div id="sourcesList"></div>
      </div>
      
      <!-- 8. OPCIONES DE SALA -->
      <div id="roomOptions" style="display:none;">
        <div class="form-group">
          <label>âš™ï¸ Modo de Sala</label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="sourceMode" value="host" checked>
              <span>ğŸ¯ Usar mi fuente para todos los invitados</span>
            </label>
            <label class="radio-item">
              <input type="radio" name="sourceMode" value="guest">
              <span>ğŸ‘¥ Cada invitado usa su propia fuente</span>
            </label>
          </div>
        </div>
        
        <div class="separator"></div>
        
        <!-- 9. CREAR SALA -->
        <button onclick="createRoom()" id="createBtn" class="btn-create">
          ğŸš€ Crear ProjectorRoom
        </button>
      </div>
      
    </div>
  </div>
  
  <script src="js/search.js"></script>
</body>
</html>
